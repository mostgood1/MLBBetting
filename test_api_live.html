<!DOCTYPE html>
<html>
<head>
    <title>Test Live Betting Recommendations</title>
    <script>
        async function testAPI() {
            try {
                const response = await fetch('http://127.0.0.1:5000/api/today-games');
                const data = await response.json();
                
                console.log('Full API Response:', data);
                
                if (data.games) {
                    console.log(`Found ${data.games.length} games`);
                    
                    data.games.forEach((game, index) => {
                        console.log(`\n=== GAME ${index + 1} ===`);
                        console.log(`${game.away_team} @ ${game.home_team}`);
                        console.log('betting_recommendations:', game.betting_recommendations);
                        
                        if (game.betting_recommendations) {
                            console.log('Has betting_recommendations!');
                            console.log('value_bets:', game.betting_recommendations.value_bets);
                            
                            if (game.betting_recommendations.value_bets && game.betting_recommendations.value_bets.length > 0) {
                                console.log(`*** FOUND ${game.betting_recommendations.value_bets.length} VALUE BETS! ***`);
                                game.betting_recommendations.value_bets.forEach((bet, betIndex) => {
                                    console.log(`  Bet ${betIndex + 1}: ${bet.recommendation} (${bet.type})`);
                                });
                            }
                        } else {
                            console.log('No betting_recommendations');
                        }
                    });
                }
                
                // Display results on page
                document.body.innerHTML = '<h1>API Test Results</h1><div id="results"></div>';
                document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
                
            } catch (error) {
                console.error('Error:', error);
                document.body.innerHTML = '<h1>Error: ' + error.message + '</h1>';
            }
        }
    </script>
</head>
<body onload="testAPI()">
    <h1>Loading...</h1>
</body>
</html>
